<!doctype html>
<html>
<head>
<title>Cart</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>
 

		  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
</head>
<body  >
  <div class="bg-white">
  <!--
    Mobile menu

    Off-canvas menu for mobile, show/hide based on off-canvas menu state.
  -->
  <div class="relative z-40 lg:hidden" role="dialog" aria-modal="true">
    <!--
      Off-canvas menu backdrop, show/hide based on off-canvas menu state.

      Entering: "transition-opacity ease-linear duration-300"
        From: "opacity-0"
        To: "opacity-100"
      Leaving: "transition-opacity ease-linear duration-300"
        From: "opacity-100"
        To: "opacity-0"
    -->
    <div class="fixed inset-0 bg-black bg-opacity-25"></div>

    <div class="fixed inset-0 flex z-40">
      <!--
        Off-canvas menu, show/hide based on off-canvas menu state.

        Entering: "transition ease-in-out duration-300 transform"
          From: "-translate-x-full"
          To: "translate-x-0"
        Leaving: "transition ease-in-out duration-300 transform"
          From: "translate-x-0"
          To: "-translate-x-full"
      -->
      <div class="relative max-w-xs w-full bg-white shadow-xl pb-12 flex flex-col overflow-y-auto">
        <div class="px-4 pt-5 pb-2 flex">
          <button type="button" class="-m-2 p-2 rounded-md inline-flex items-center justify-center text-gray-400">
            <span class="sr-only">Close menu</span>
            <!-- Heroicon name: outline/x -->
            <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>

        <!-- Links -->
        <div class="mt-2">
          <div class="border-b border-gray-200">
            <div class="-mb-px flex px-4 space-x-8" aria-orientation="horizontal" role="tablist">
              <!-- Selected: "text-indigo-600 border-indigo-600", Not Selected: "text-gray-900 border-transparent" -->
              <button id="tabs-1-tab-1" class="text-gray-900 border-transparent flex-1 whitespace-nowrap py-4 px-1 border-b-2 text-base font-medium" aria-controls="tabs-1-panel-1" role="tab" type="button">Women</button>

              <!-- Selected: "text-indigo-600 border-indigo-600", Not Selected: "text-gray-900 border-transparent" -->
              <button id="tabs-1-tab-2" class="text-gray-900 border-transparent flex-1 whitespace-nowrap py-4 px-1 border-b-2 text-base font-medium" aria-controls="tabs-1-panel-2" role="tab" type="button">Men</button>
            </div>
          </div>
 
          <!-- 'Men' tab panel, show/hide based on tab state. -->
             </div>

        <div class="border-t border-gray-200 py-6 px-4 space-y-6">
          <div class="flow-root">
            <a href="#" class="-m-2 p-2 block font-medium text-gray-900">Company</a>
          </div>

          <div class="flow-root">
            <a href="#" class="-m-2 p-2 block font-medium text-gray-900">Stores</a>
          </div>
        </div>

        <div class="border-t border-gray-200 py-6 px-4 space-y-6">
          <div class="flow-root">
            <a href="#" class="-m-2 p-2 block font-medium text-gray-900">Sign in</a>
          </div>
          <div class="flow-root">
            <a href="register" class="-m-2 p-2 block font-medium text-gray-900">Create account</a>
          </div>
        </div>

        <div class="border-t border-gray-200 py-6 px-4">
          <a href="#" class="-m-2 p-2 flex items-center">
            <img src="https://tailwindui.com/img/flags/flag-australia.svg" alt="" class="w-5 h-auto block flex-shrink-0">
            <span class="ml-3 block text-base font-medium text-gray-900"> AUD </span>
            <span class="sr-only">, change currency</span>
          </a>
        </div>
      </div>
    </div>
  </div>

  <header class="relative bg-white">
    <p class="bg-indigo-600 h-10 flex items-center justify-center text-sm font-medium text-white px-4 sm:px-6 lg:px-8">Get free delivery on orders over $100</p>

    <nav aria-label="Top" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="border-b border-gray-200">
        <div class="h-16 flex items-center">
          <!-- Mobile menu toggle, controls the 'mobileMenuOpen' state. -->
          <button type="button" class="bg-white p-2 rounded-md text-gray-400 lg:hidden">
            <span class="sr-only">Open menu</span>
            <!-- Heroicon name: outline/menu -->
            <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>

          <!-- Logo -->
          <div class="ml-4 flex lg:ml-0">
            <a href="index.html">
              <span class="sr-only">Workflow</span>
              <img class="h-8 w-auto" src="https://tailwindui.com/img/logos/workflow-mark.svg?color=indigo&shade=600" alt="">
            </a>
          </div>

          <!-- Flyout menus -->
          <div class="hidden lg:ml-8 lg:block lg:self-stretch">
            <div class="h-full flex space-x-8">
              <div class="flex">
                <div class="relative flex">
                  <!-- Item active: "border-indigo-600 text-indigo-600", Item inactive: "border-transparent text-gray-700 hover:text-gray-800" -->
                  <button type="button" class="border-transparent text-gray-700 hover:text-gray-800 relative z-10 flex items-center transition-colors ease-out duration-200 text-sm font-medium border-b-2 -mb-px pt-px" aria-expanded="false">Women</button>
                </div>

                <!--
                  'Women' flyout menu, show/hide based on flyout menu state.

                  Entering: "transition ease-out duration-200"
                    From: "opacity-0"
                    To: "opacity-100"
                  Leaving: "transition ease-in duration-150"
                    From: "opacity-100"
                    To: "opacity-0"
                -->
              </div>

              <div class="flex">
                <div class="relative flex">
                  <!-- Item active: "border-indigo-600 text-indigo-600", Item inactive: "border-transparent text-gray-700 hover:text-gray-800" -->
                  <button type="button" class="border-transparent text-gray-700 hover:text-gray-800 relative z-10 flex items-center transition-colors ease-out duration-200 text-sm font-medium border-b-2 -mb-px pt-px" aria-expanded="false">Men</button>
                </div>

                <!--
                  'Men' flyout menu, show/hide based on flyout menu state.

                  Entering: "transition ease-out duration-200"
                    From: "opacity-0"
                    To: "opacity-100"
                  Leaving: "transition ease-in duration-150"
                    From: "opacity-100"
                    To: "opacity-0"
                -->
               </div>

              <a href="#" class="flex items-center text-sm font-medium text-gray-700 hover:text-gray-800">Company</a>

              <a href="#" class="flex items-center text-sm font-medium text-gray-700 hover:text-gray-800">Stores</a>
            </div>
          </div>

          <div class="ml-auto flex items-center">
            <div class="hidden lg:flex lg:flex-1 lg:items-center lg:justify-end lg:space-x-6">
              <a href="#" class="text-sm font-medium text-gray-700 hover:text-gray-800">Sign in</a>
              <span class="h-6 w-px bg-gray-200" aria-hidden="true"></span>
              <a href="register.html" class="text-sm font-medium text-gray-700 hover:text-gray-800">Create account</a>
            </div>

            <div class="hidden lg:ml-8 lg:flex">
              <a href="#" class="text-gray-700 hover:text-gray-800 flex items-center">
                <img src="https://tailwindui.com/img/flags/flag-australia.svg" alt="" class="w-5 h-auto block flex-shrink-0">
                <span class="ml-3 block text-sm font-medium"> AUD </span>
                <span class="sr-only">, change currency</span>
              </a>
            </div>

            <!-- Search -->
            <div class="flex lg:ml-6">
              <a href="#" class="p-2 text-gray-400 hover:text-gray-500">
                <span class="sr-only">Search</span>
                <!-- Heroicon name: outline/search -->
                <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
              </a>
            </div>

            <!-- Cart -->
            <div class="ml-4 flow-root lg:ml-6">
              <a href="cart.html" class="group -m-2 p-2 flex items-center">
                <!-- Heroicon name: outline/shopping-bag -->
                <svg class="flex-shrink-0 h-6 w-6 text-gray-400 group-hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                </svg>
                <span class="ml-2 text-sm font-medium text-gray-700 group-hover:text-gray-800" id="cartqty">0</span>
                <span class="sr-only">items in cart, view bag</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </header>
</div>

 <div class=" mt-10  max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex shadow-md my-10">
      <div class="w-3/4 bg-white px-10 py-10">
        <div class="flex justify-between border-b pb-8">
          <h1 class="font-semibold text-2xl">Shopping Cart</h1>
          <h2 class="font-semibold text-2xl"><span id="cartqty">0</span> Items</h2>
        </div>
         <div class="box-content">
                            <div class="cart-items">
                                <table class="styled-table w-full">
                                    <thead>
                                        <tr>
                                            <th class="col_product text-left">Product</th>
                                            <th class="col_qty text-right">Qty</th>
                                            <th class="col_single text-right">Single</th>
                                            <th class="col_total text-right">Total</th>
                                        </tr>
                                    </thead>

                                    <tbody id="cartTable">                                 
                                        
                                        
                                    </tbody>
                                </table>
                            </div>
                        </div>
        <!--<a href="#" class="flex font-semibold text-indigo-600 text-sm mt-10">
      
          <svg class="fill-current mr-2 text-indigo-600 w-4" viewBox="0 0 448 512"><path d="M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z"/></svg>
          Continue Shopping
        </a>-->
      </div>

      <div id="summary" class="w-1/4 px-8 py-10">
        <h1 class="font-semibold text-2xl border-b pb-8">Order Summary</h1>
        <div class="flex justify-between mt-10 mb-5">
          <span class="font-semibold text-sm uppercase">Subtotal</span>
          <span class="font-semibold text-sm">$<span id="subTotal">0</span></span>
        </div>
        <div>
          <label class="font-medium inline-block mb-3 text-sm uppercase">Delivery Type</label>
          <select class="block p-2 text-gray-600 w-full text-sm" id="deliveryType">
            <option value="homeaddress">Home Delivery - $5.00</option>
			<option value="storepickup">Store pickup - $0.00</option>
          </select>
        </div>
		
		 <div class="border-t mt-8">
          <div class="flex font-semibold justify-between py-6 text-sm uppercase">
            <span>Delivery Cost</span>
            <span>$<span id="deliveryCost">5.00</span></span>
          </div>
         
        </div>
        
        
        <div class="border-t mt-8">
          <div class="flex font-semibold justify-between py-6 text-sm uppercase">
            <span>Total cost</span>
            <span>$<span id="total">0</span></span>
          </div>
		  
		  <div class="mt-5 border-t">
          <label class="font-medium inline-block mb-3 text-sm uppercase mt-5">Payment Mode</label>
          <select class="block p-2 text-gray-600 w-full text-sm" id="paymentType">
            <option value="visa">Visa</option>
			<option value="mastercard">Mastercard</option>
			<option value="bitcoin">Bitcoin</option>
          </select>
        </div>
          <button class="bg-indigo-500 font-semibold hover:bg-indigo-600 py-3 mt-10 text-sm text-white uppercase w-full" type="button" onclick="purchaseCart()">Checkout</button>
        </div>
      </div>

    </div>
  </div>





<script>
function clearCart() {
    localStorage.removeItem("cart");
    
    $("#carticonqty").attr("style", "display:none;");
    cartTable.innerHTML = "";
    return false;
}
$("#deliveryType").change(function(){
    //selection changed
	console.log(this.value);
    if(this.value == "homeaddress"){
        $("#deliveryCost").text("5.00");
        cart = JSON.parse(localStorage.getItem("cart"));
        var count = 0;
        var cartString = "";
        var totalAmount = 0;
        var subTotal = 0;
        for (var i in cart) {
            count += cart[i].quantity; 
            subTotal += (cart[i].quantity * cart[i].price);
        }
        totalAmount = subTotal + 5;
        $("#total").text(totalAmount);
    }else if(this.value == "storepickup"){
        $("#deliveryCost").text("0.00");
        cart = JSON.parse(localStorage.getItem("cart"));
        var count = 0;
        var cartString = "";
        var totalAmount = 0;
        var subTotal = 0;
        for (var i in cart) {
            count += cart[i].quantity; 
            subTotal += (cart[i].quantity * cart[i].quantity);
        }
        totalAmount = subTotal;
        $("#total").text(totalAmount);
    }
});

function purchaseCart() {
	min = Math.ceil(100000000);
    max = Math.floor(900000000);
    var orderId = Math.floor(Math.random() * (max - min)) + min;
    localStorage.setItem('orderId', orderId);
    localStorage.setItem('paymentType', document.getElementById("paymentType").value);
    localStorage.setItem('deliveryType', document.getElementById("deliveryType").value);
    localStorage.setItem('totalAmount', document.getElementById("total").innerText);
	localStorage.setItem('shippingCharges',document.getElementById("deliveryCost").innerText);
   
    document.location.href = "purchase.html";
}

 
                    console.log(">>>>> Cart page detected.");

                    if(localStorage.getItem("cart") !== null || localStorage.getItem("cart") !== "undefined"){
                        $("#purchaseButton").attr("disabled", false);
                        cart = JSON.parse(localStorage.getItem("cart"));
                        var count = 0;
                        var cartString = "";
                        var totalAmount = 0;
                        var subTotal = 0;
                        for (var i in cart) {
                            count += cart[i].quantity; 

                            str = "<tr>" 
                            + "<td data-title='Product' class='col_product text-left'>"
                          
                            + "<h5>" + cart[i].productName + "</h5></td>"
                            + "<td data-title='Qty' class='col_qty text-right'>"
                            + "<span class='single-price'>" + cart[i].quantity + "</span>"
                            + "<td data-title='Single' class='col_single text-right'>"
                            + "<span class='single-price'>" + cart[i].price + "</span></td>"
                            + "<td data-title='Total' class='col_total text-right'>"
                            + "<span class='total-price'>" + (cart[i].quantity * cart[i].price) + "</span></td>";

                            cartString += str;

                            subTotal += (cart[i].quantity * cart[i].price);
                        }
                        
                        totalAmount = (subTotal + 5);


                        if(count !== "0"){
                            $("#purchaseButton").attr("disabled", true);
                        }

                        console.log("Cart exists - " + count + " items in cart.");
                        if(count > 0){
                            $("#cartqty").text(count);
                            $("#carticonqty").attr("style", "display:block;");
                            $("#purchaseButton").attr("disabled", false);
                            cartTable.innerHTML = cartString;

                            var total = totalAmount.toFixed(2);
                            $("#subTotal").text(subTotal);
                            $("#total").text(total);
                        }
                    }
                
</script>
<script src="js/global.js"></script>